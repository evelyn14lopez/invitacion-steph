<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>InvitaciÃ³n de Steph ðŸ’Œ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- TipografÃ­a romÃ¡ntica -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet" />
  </head>
  <body class="no-js">
  <!-- Overlay del sobre (encima de todo) -->
  <envelope-intro id="overlay-envelope"></envelope-intro>

  <!-- La app SIEMPRE estÃ¡ presente (no la ocultes con display:none) -->
  <app-root></app-root>

  <!-- Bundles de Stencil (necesarios tanto en dev como en build/preview) -->
  <script type="module" src="/build/app.esm.js"></script>
  <script nomodule src="/build/app.js"></script>

  <script>
    // Progresive enhancement: si hay JS, quitamos la clase no-js
    document.documentElement.classList.remove('no-js');

    // Utilidades
    const overlay = document.getElementById('overlay-envelope');
    const showApp = () => { overlay?.parentNode && overlay.remove(); };

    // 1) Quitar overlay cuando el sobre dispare el evento
    window.addEventListener('envelopeOpened', showApp, { once: true });

    // 2) Fallback: si el evento no llega en 3s (por cualquier motivo), mostramos la app igual
    window.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        if (document.getElementById('overlay-envelope')) showApp();
      }, 3000);
    });
  </script>

  <noscript>
    <!-- Si no hay JS, al menos mostramos la app -->
    <style> #overlay-envelope{ display:none!important; } </style>
  </noscript>
</body>

</html>
