:host{
  display:block;
  min-height:100dvh;
  scroll-snap-align:start;
  scroll-snap-stop:always;
  box-sizing:border-box;
}

.pc_wrap{
  min-height:min(100dvh, 900px);
  display:grid;
  place-items:center;
  padding:2rem 1rem;
  background:transparent;
  overscroll-behavior-y: contain;
}

.pc_card{
  width:min(980px, 96vw);
  background:rgba(255,255,255,.12);
  border:1px solid rgba(255,255,255,.18);
  border-radius:16px;
  padding:clamp(1rem, 3vw, 1.75rem);
  padding-bottom: clamp(3.25rem, 5.5vw, 4.25rem);
  backdrop-filter:blur(3px);
  box-shadow:0 8px 20px rgba(0,0,0,.06);
  animation:pc_fade .6s ease-out both;
}

.pc_title{
  margin:0 0 1rem;
  text-align:center;
  font-family:var(--font-heading);
  font-size:clamp(1.8rem, 5vw, 2.2rem);
  color:var(--primary-color);
  letter-spacing:.2px;
}

.pc_stack{
  position:relative;
  width:min(720px, 92vw);
  margin:0 auto;
  aspect-ratio:3/4;
  user-select:none;
  touch-action: pan-y;
  --shift-x: -14px;
  transform: translateX(var(--shift-x));
}

.pc_polaroid{
  position:absolute;
  inset:0;
  display:grid;
  place-items:end center;
  transform:
    translateY(var(--offy, 0))
    rotate(var(--rot, 0));
  transition:transform .35s ease, box-shadow .35s ease, opacity .35s ease;
  pointer-events:none;
}

.pc_polaroid::before{
  content:"";
  position:absolute;
  inset:-10px -10px -36px;
  border-radius:8px;
  box-shadow:0 20px 30px rgba(0,0,0,.18);
  z-index:0;
}

.pc_polaroid img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:6px;
  z-index:1;
}

.pc_caption{
  position:absolute;
  bottom:-18px;
  left:0; right:0;
  text-align:center;
  font-family:var(--font-body);
  font-size:clamp(.9rem, 2.8vw, 1rem);
  color:var(--text-color, #333);
  opacity:.95;
  z-index:2;
}

.pc_polaroid:not(.is-current){
  filter:grayscale(.08) contrast(.98);
  opacity:.96;
}

.pc_polaroid.is-current{
  transform:translateY(0) scale(1.01) rotate(0deg);
  z-index:50 !important;
}

.pc_nav{
  position:absolute;
  top:50%;
  translate:0 -50%;
  width:46px; height:46px;
  display:grid;
  place-items:center;
  border:none;
  border-radius:50%;
  background:rgba(255,255,255,.95);
  color:var(--primary-color);
  font-size:1.5rem;
  box-shadow:0 6px 16px rgba(0,0,0,.16);
  cursor:pointer;
  transition:transform .15s ease;
  z-index:60;
}
.pc_nav:hover{ transform:translateY(-1px); }
.pc_nav:active{ transform:scale(.96); }
.pc_prev{ left:-6px; }
.pc_next{ right:-12px; }
.pc_hint{
  position:absolute;
  bottom:-36px;
  left:0; right:0;
  text-align:center;
  font-size:.95rem;
  opacity:.8;
  font-style:italic;
}

.pc_dots{
  display:flex;
  flex-wrap:wrap;
  gap:.5rem;
  justify-content:center;
  margin-top:3.5rem;
}
.pc_dot{
  width:8px; height:8px;
  border-radius:999px;
  background:rgba(255,255,255,.7);
  border:1px solid rgba(0,0,0,.08);
  cursor:pointer;
  transition:transform .15s ease, background-color .15s ease;
}
.pc_dot.is-active{
  background:var(--primary-color);
  transform:scale(1.25);
}

@media (max-width:640px){
  .pc_stack{
    width:92vw;
    --shift-x: -18px;
  }
  .pc_prev{ left:-4px; }
  .pc_next{ right:-10px; }
  .pc_nav{ width:42px; height:42px; font-size:1.35rem; }
  .pc_hint{ bottom:-32px; font-size:.9rem; }
}

@keyframes pc_fade{
  from{ opacity:0; transform:translateY(22px); }
  to{ opacity:1; transform:translateY(0); }
}
